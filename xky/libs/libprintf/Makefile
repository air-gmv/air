#
# Makefile : libprintf - Partition Printf support library
# Generated by XKY Configurator Tool v3.5
#

TARGET_BUILD=../../install/libs/libprintf

TARGET_LIBRARY=../../install/libs/libprintf/libprintf.a

include ../../Makefile.inc 

TARGET_HEADERS=\
../../pmk/core/include/xky.h\
include/pprintf.h\
../../pmk/arch/sparc/include/xky_arch.h

TARGET_SOURCES=\
pprintf.c

TARGET_OBJECTS=\
$(patsubst %.c,$(TARGET_BUILD)/%.o,\
$(patsubst %.S,$(TARGET_BUILD)/%.o,$(TARGET_SOURCES)))

TARGET_CPPFLAGS+=\
-Iinclude\
-I../../pmk/core/include\
-I../../pmk/arch/sparc/include

LIBRARY_HEADERS=\
include/pprintf.h

# All
.PHONY : all
all: $(TARGET_LIBRARY)

# Library
$(TARGET_LIBRARY): $(TARGET_OBJECTS) $(TARGET_HEADERS)
	$(call make-target-library, $@, $(TARGET_OBJECTS))
	@($(TESTD) ../../install/libs/libprintf/include || $(MKDIR) ../../install/libs/libprintf/include)
	@$(foreach obj,$(LIBRARY_HEADERS),$(CP) $(obj) ../../install/libs/libprintf/include/$(dirname $(obj));)

# Clean
.PHONY : clean
clean:
	@($(RM) $(TARGET_BUILD))

# Distclean
.PHONY : distclean
distclean: clean
	@($(RM) Makefile)
