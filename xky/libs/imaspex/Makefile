#
# Makefile : imaspex - IMASPEX support library
# Generated by XKY Configurator Tool v3.5
#

TARGET_BUILD=../../install/libs/imaspex

TARGET_LIBRARY=../../install/libs/imaspex/imaspex.a

include ../../Makefile.inc 

TARGET_HEADERS=\
../../pmk/core/include/xky.h\
include/a653.h\
../../pmk/arch/sparc/include/xky_arch.h\
include/imaspex.h

TARGET_SOURCES=\
entry.c\
mms.c\
part.c\
cache.c\
qport.c\
sport.c

TARGET_OBJECTS=\
$(patsubst %.c,$(TARGET_BUILD)/%.o,\
$(patsubst %.S,$(TARGET_BUILD)/%.o,$(TARGET_SOURCES)))

TARGET_CPPFLAGS+=\
-Iinclude\
-I../../pmk/core/include\
-I../../pmk/arch/sparc/include

LIBRARY_HEADERS=\
include/a653.h\
include/imaspex.h

# All
.PHONY : all
all: $(TARGET_LIBRARY)

# Library
$(TARGET_LIBRARY): $(TARGET_OBJECTS) $(TARGET_HEADERS)
	$(call make-target-library, $@, $(TARGET_OBJECTS))
	@($(TESTD) ../../install/libs/imaspex/include || $(MKDIR) ../../install/libs/imaspex/include)
	@$(foreach obj,$(LIBRARY_HEADERS),$(CP) $(obj) ../../install/libs/imaspex/include/$(dirname $(obj));)

# Clean
.PHONY : clean
clean:
	@($(RM) $(TARGET_BUILD))

# Distclean
.PHONY : distclean
distclean: clean
	@($(RM) Makefile)
