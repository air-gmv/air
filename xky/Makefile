#
# Makefile : XKY OS - Makefile
# Generated by XKY Configurator Tool v3.5
#

export XKY_ROOT=/home/$(AIR_RUNNER_USER)/xky
export XKY_INSTALL=/home/$(AIR_RUNNER_USER)/xky/install
export XKY_PMK=$(XKY_INSTALL)/pmk
export XKY_POS=$(XKY_INSTALL)/pos
export XKY_LIBS=$(XKY_INSTALL)/libs
export XKY_TOOLS=$(XKY_INSTALL)/tools

# Makefile Include file
include ./Makefile.inc 

# All
.PHONY : all
all: pmk pos libs tools

# PMK
.PHONY : pmk
pmk:
	make -C pmk all

# POS
.PHONY : pos
pos: pmk
	make -C pos all

# Libraries
.PHONY : libs
libs: pmk pos
	make -C libs all

# Tools
.PHONY : tools
tools:
	make -C tools/partition_assembler all
	@($(RM) $(XKY_TOOLS)/configurator)
	@($(SYMLINK) ../../tools/configurator/configurator.py $(XKY_TOOLS)/configurator)

# Clean
.PHONY : clean
clean:
	@($(RM) $(XKY_TOOLS)/configurator)
	make -C libs clean
	make -C pos clean
	make -C pmk clean
	make -C tools/partition_assembler clean
	@($(RM) /home/$(AIR_RUNNER_USER)/xky/install)

# Distclean
.PHONY : distclean
distclean:
	make -C libs distclean
	make -C pos distclean
	make -C pmk distclean
	make -C tools/partition_assembler distclean
	@($(RM) /home/$(AIR_RUNNER_USER)/xky/install)
	@($(RM) Makefile)
	@($(RM) Makefile.inc)
	@($(RM) .xky_config)


